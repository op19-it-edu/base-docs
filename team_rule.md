# ルール

## 新規ブランチを切って、実装を始める時
- [base-docs/git-manual.md](https://github.com/op19-it-edu/base-docs/blob/master/git-manual.md)
- ブランチ名の先頭には、Issue番号を付ける
- コミットメッセージの最後にIssues番号を付ける
  - コミットから該当Issueに飛べるようにするため
  - [参考のPR](https://github.com/op19-it-edu/base-docs/pull/25/commits)

## ラベル管理
- チケットでのステータス管理ができないので、GitHubのラベルを使用する

### 新規PR作成時
1. 該当Issueに着手中ラベルを付ける
2. PRのタイトルの最後に該当のIssue番号を付ける
3. PR作成時に、DescriptionにIssue番号を付ける
    - 該当IssueからPRに飛べるようにするため
4. まだ実装途中であれば、PRに着手中ラベルを付ける
5. 実装が終わってレビューをしてもらいたいときは、レビュー待ちラベルを付ける
6. slackで、PRのURLを貼り、他2人にメンションして、レビューを依頼する

### レビュー時
1. 該当PRのレビューを開始する前にレビュー待ちラベルを外し、レビュー中ラベルを付ける
2. 適宜、指摘・質問をする
3. レビューが終わったら、レビュー中ラベルを外す
4. コードの修正が必要な時は、reopenラベルを付ける
5. コードの修正が必要ない場合は、Approveする
6. もう一人のレビュアーが未レビュー・未Approveの場合は、レビュー待ちラベルを付ける
7. slackで、レビュイーにメンションして、レビューが終わったことを伝える

### レビューを受けた後にコードを修正した時
1. reopenラベルを外し、レビュー待ちラベルを付ける
2. slackでreopenラベルを付けたレビュアーに対してメンションし、再度のレビューをお願いする
3. レビューが通ったら、PRをmergeし、該当Issueをcloseする

## レビュー
1. レビュー対象のブランチに切り替える
2. テスト用のDBをdrop > create > migrate する
3. テストコードを全て実行して、全て通ることを確認する
4. 実働を確認する
- 他人が書いたコードは間違っている箇所がある前提で読む
- コードは文脈で読むのではなくアルファベット単位で読む
  - タイポを防ぐため
  - 再レビュー時も全てのコードをアルファベット単位で読む
- もっと短く書けないか(不要な処理がないか)を考える
- ファイルの行数が多すぎると思ったら指摘する
- ファイルの置き場所が微妙だと思ったら、指摘する
- ディレクトリ名、ファイル名、関数名、変数名が微妙であれば指摘する
- 一つの関数が大きすぎたら指摘する
- 必要なテストが十分にされているかどうかを考える
